var __reflect=this&&this.__reflect||function(t,e,n){t.__class__=e,n?n.push(e):n=[e],t.__types__=t.__types__?n.concat(t.__types__):n},__extends=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);n.prototype=e.prototype,t.prototype=new n},__awaiter=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(o,r){function s(t){try{l(i.next(t))}catch(e){r(e)}}function a(t){try{l(i["throw"](t))}catch(e){r(e)}}function l(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(s,a)}l((i=i.apply(t,e||[])).next())})},__generator=this&&this.__generator||function(t,e){function n(t){return function(e){return i([t,e])}}function i(n){if(o)throw new TypeError("Generator is already executing.");for(;l;)try{if(o=1,r&&(s=r[2&n[0]?"return":n[0]?"throw":"next"])&&!(s=s.call(r,n[1])).done)return s;switch(r=0,s&&(n=[0,s.value]),n[0]){case 0:case 1:s=n;break;case 4:return l.label++,{value:n[1],done:!1};case 5:l.label++,r=n[1],n=[0];continue;case 7:n=l.ops.pop(),l.trys.pop();continue;default:if(s=l.trys,!(s=s.length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){l=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){l.label=n[1];break}if(6===n[0]&&l.label<s[1]){l.label=s[1],s=n;break}if(s&&l.label<s[2]){l.label=s[2],l.ops.push(n);break}s[2]&&l.ops.pop(),l.trys.pop();continue}n=e.call(t,l)}catch(i){n=[6,i],r=0}finally{o=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,r,s,a,l={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:n(0),"throw":n(1),"return":n(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a},HttpManager=function(){function t(){this.request=new egret.HttpRequest}return t.create=function(){return new t},t.prototype.Get=function(t,e,n,i){void 0===i&&(i=null),this.request.responseType=egret.HttpResponseType.TEXT,this.request.open(t,egret.HttpMethod.GET),this.request.send(),this.request.addEventListener(egret.Event.COMPLETE,function(t){var n=t.currentTarget;e.call(i,n.response)},i),this.request.addEventListener(egret.IOErrorEvent.IO_ERROR,n,i)},t.prototype.Post=function(t,e,n,i,o){void 0===i&&(i=null),void 0===o&&(o=""),this.request.responseType=egret.HttpResponseType.TEXT,this.request.open(t,egret.HttpMethod.POST),this.request.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),this.request.send(o),this.request.addEventListener(egret.Event.COMPLETE,function(t){var n=t.currentTarget;e.call(i,n.response)},i),this.request.addEventListener(egret.IOErrorEvent.IO_ERROR,n,i)},t}();__reflect(HttpManager.prototype,"HttpManager");var AssetAdapter=function(){function t(){}return t.prototype.getAsset=function(t,e,n){function i(i){e.call(n,i,t)}if(RES.hasRes(t)){var o=RES.getRes(t);o?i(o):RES.getResAsync(t,i,this)}else RES.getResByUrl(t,i,this,RES.ResourceItem.TYPE_IMAGE)},t}();__reflect(AssetAdapter.prototype,"AssetAdapter",["eui.IAssetAdapter"]);var Main=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.createChildren=function(){t.prototype.createChildren.call(this),egret.ImageLoader.crossOrigin="anonymous",egret.lifecycle.addLifecycleListener(function(t){}),egret.lifecycle.onPause=function(){egret.ticker.pause()},egret.lifecycle.onResume=function(){egret.ticker.resume()};var e=new AssetAdapter;egret.registerImplementation("eui.IAssetAdapter",e),egret.registerImplementation("eui.IThemeAdapter",new ThemeAdapter),this.runGame()["catch"](function(t){console.log(t)})},e.prototype.runGame=function(){return __awaiter(this,void 0,void 0,function(){var t,e;return __generator(this,function(n){switch(n.label){case 0:return[4,this.loadResource()];case 1:return n.sent(),this.createGameScene(),[4,RES.getResAsync("description_json")];case 2:return t=n.sent(),this.startAnimation(t),[4,platform.login()];case 3:return n.sent(),[4,platform.getUserInfo()];case 4:return e=n.sent(),console.log(e),[2]}})})},e.prototype.loadResource=function(){return __awaiter(this,void 0,void 0,function(){var t,e;return __generator(this,function(n){switch(n.label){case 0:return n.trys.push([0,4,,5]),t=new LoadingUI,this.stage.addChild(t),[4,RES.loadConfig("resource/default.res.json","resource/")];case 1:return n.sent(),[4,this.loadTheme()];case 2:return n.sent(),[4,RES.loadGroup("preload",0,t)];case 3:return n.sent(),this.stage.removeChild(t),[3,5];case 4:return e=n.sent(),console.error(e),[3,5];case 5:return[2]}})})},e.prototype.loadTheme=function(){var t=this;return new Promise(function(e,n){var i=new eui.Theme("resource/default.thm.json",t.stage);i.addEventListener(eui.UIEvent.COMPLETE,function(){e()},t)})},e.prototype.createGameScene=function(){new egret.TextField;egret.localStorage.removeItem("playInfo");var t=egret.getOption("param");if(!comm.isNull(t)){var e=comm.Decrypt(t);egret.localStorage.setItem("playInfo",e)}var n=index.NewIndex();this.addChild(n)},e.prototype.createBitmapByName=function(t){var e=new egret.Bitmap,n=RES.getRes(t);return e.texture=n,e},e.prototype.startAnimation=function(t){var e=this,n=new egret.HtmlTextParser,i=t.map(function(t){return n.parse(t)}),o=this.textfield,r=-1,s=function(){r++,r>=i.length&&(r=0);var t=i[r];o.textFlow=t;var n=egret.Tween.get(o);n.to({alpha:1},200),n.wait(2e3),n.to({alpha:0},200),n.call(s,e)};s()},e.prototype.onButtonClick=function(t){var e=new eui.Panel;e.title="Title",e.horizontalCenter=0,e.verticalCenter=0,this.addChild(e)},e}(eui.UILayer);__reflect(Main.prototype,"Main");var DebugPlatform=function(){function t(){}return t.prototype.getUserInfo=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return[2,{nickName:"username"}]})})},t.prototype.login=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return[2]})})},t}();__reflect(DebugPlatform.prototype,"DebugPlatform",["Platform"]),window.platform||(window.platform=new DebugPlatform);var ThemeAdapter=function(){function t(){}return t.prototype.getTheme=function(t,e,n,i){function o(t){e.call(i,t)}function r(e){e.resItem.url==t&&(RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,r,null),n.call(i))}"undefined"!=typeof generateEUI?egret.callLater(function(){e.call(i,generateEUI)},this):(RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,r,null),RES.getResByUrl(t,o,this,RES.ResourceItem.TYPE_TEXT))},t}();__reflect(ThemeAdapter.prototype,"ThemeAdapter",["eui.IThemeAdapter"]);var comm=function(){function t(){}return t.isNull=function(t){return null==t||void 0==t||""==t?!0:!1},t.playAnimation=function(t,e){if(e)for(var n in t.items)t.items[n].props={loop:!0};t.play()},t.Decrypt=function(t){for(var e=t.split("-"),n="",i=112,o=0;o<e.length;o++){var r=parseInt(e[o])^i;n+=String.fromCharCode(r)}return n},t}();__reflect(comm.prototype,"comm");var conf=function(){function t(){}return t.LoginUrl="http://login.wangqianhong.com/",t.AgentUrl="http://agent.wangqianhong.com/",t}();__reflect(conf.prototype,"conf");var LoadingUI=function(t){function e(){var e=t.call(this)||this;return e.createView(),e}return __extends(e,t),e.prototype.createView=function(){this.textField=new egret.TextField,this.addChild(this.textField),this.textField.y=300,this.textField.width=480,this.textField.height=100,this.textField.textAlign="center"},e.prototype.onProgress=function(t,e){this.textField.text="Loading..."+t+"/"+e},e}(egret.Sprite);__reflect(LoadingUI.prototype,"LoadingUI",["RES.PromiseTaskReporter"]);var index=function(t){function e(){var e=t.call(this)||this;return e.share_uid=0,e.login_uid=0,e.login_amount=0,e.login_surplus=0,e.skinName="index_skin",e.init(),e}return __extends(e,t),e.NewIndex=function(){return new e},e.prototype.init=function(){comm.playAnimation(this.effect,!0),this.bindPlay(),this.index_at_agent.touchEnabled=!0,this.index_at_agent.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBecome,this),this.index_pointer.touchEnabled=!0,this.index_pointer.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onLottery,this),this.index_btn_ten.touchEnabled=!0,this.index_btn_ten.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTenLottery,this),this.index_rule.touchEnabled=!0,this.index_rule.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onRule,this),this.index_myprize.touchEnabled=!0,this.index_myprize.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onMyPrize,this),this.index_download.touchEnabled=!0,this.index_download.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onDownload,this)},e.prototype.bindPlay=function(){var t=JSON.parse(egret.localStorage.getItem("playInfo"));comm.isNull(t)||(this.share_uid=comm.isNull(t.share_uid)?0:t.share_uid,this.login_uid=comm.isNull(t.login_uid)?0:t.login_uid,this.login_nick=t.login_nick,this.login_head=t.login_head,this.login_amount=comm.isNull(t.login_amount)?0:t.login_amount,this.login_surplus=comm.isNull(t.login_surplus)?0:t.login_surplus,this.index_surplus.text=this.login_surplus.toString())},e.prototype.onBecome=function(){window.location.href=conf.AgentUrl+"/PlayerBuy/index"+this.share_uid},e.prototype.onDownload=function(){window.location.href="http://agent.wangqianhong.com/download/"+this.share_uid+"/1"},e.prototype.onMyPrize=function(){var t=myprize.NewMyPrize();t.login_uid=this.login_uid,t.login_nick=this.login_nick,t.login_head=this.login_head,t.login_amount=this.login_amount,t.init(),this.addChild(t)},e.prototype.onRule=function(){this.addChild(rule.NewRule())},e.prototype.onLottery=function(){var t="";if(this.login_uid<=0?t="您还没有游戏账号，请下载并登录游戏，再按抽奖规则，获取抽检机会！":this.login_surplus<=0&&(t="您的抽奖次数不足，请查看抽奖规则，获取抽奖机会!",this.index_surplus.text=this.login_surplus.toString()),""==t){var e=conf.AgentUrl+"/api/GetLottery/"+this.login_uid+"/1";HttpManager.create().Get(e,this.onLotterySuccess,this.onLotteryError,this)}else{var n=message.NewMessage();n.msg_text.text=t,this.addChild(n)}},e.prototype.onLotteryError=function(){console.log("lotter error")},e.prototype.onLotterySuccess=function(t){var e=this,n=JSON.parse(t);if(!comm.isNull(n)){var i="";if("UID_ERROR"==n?i="您还没有游戏账号，请下载并登录游戏，再按抽奖规则，获取抽检机会！":"NUMBER_ERROR"==n&&(i="您的抽奖次数不足，请查看抽奖规则，获取抽奖机会!",this.login_surplus=0,this.index_surplus.text=this.login_surplus.toString()),""==i){this.index_pointer.touchEnabled=!1;var o=n[0],r=1825.7-51.4*o,s=3*r;egret.Tween.get(this.index_prize).to({rotation:r},s,egret.Ease.sineOut).call(function(){e.index_pointer.touchEnabled=!0;var t=redbag.NewRedBag();t.start(n),e.addChild(t)}),this.login_surplus-=1,this.index_surplus.text=this.login_surplus.toString();for(var a=0,l=n;a<l.length;a++){var h=l[a];7==h?this.login_amount=parseFloat(this.login_amount.toString())+.88:5==h?this.login_amount=parseFloat(this.login_amount.toString())+5.88:3==h&&(this.login_amount=parseFloat(this.login_amount.toString())+8.88)}console.log(this.login_amount)}else{var u=message.NewMessage();u.msg_text.text=i,this.addChild(u)}}},e.prototype.onTenLottery=function(){var t="";if(this.login_uid<=0?t="您还没有游戏账号，请下载并登录游戏，再按抽奖规则，获取抽检机会！":this.login_surplus<10&&(t="您的抽奖次数不足10次，请查看抽奖规则，获取抽奖机会!",this.index_surplus.text=this.login_surplus.toString()),""==t){var e=conf.AgentUrl+"/api/GetLottery/"+this.login_uid+"/10";HttpManager.create().Get(e,this.onTenLotterySuccess,this.ontenLotteryError,this)}else{var n=message.NewMessage();n.msg_text.text=t,this.addChild(n)}},e.prototype.ontenLotteryError=function(){console.log("ten lotter error")},e.prototype.onTenLotterySuccess=function(t){var e=this,n=JSON.parse(t);if(!comm.isNull(n)){var i="";if("UID_ERROR"==n?i="您还没有游戏账号，请下载并登录游戏，再按抽奖规则，获取抽检机会！":"NUMBER_ERROR"==n&&(i="您的抽奖次数不足，请查看抽奖规则，获取抽奖机会!"),""==i){this.index_btn_ten.touchEnabled=!1;var o=n[0],r=1825.7-51.4*o,s=3*r;egret.Tween.get(this.index_prize).to({rotation:r},s,egret.Ease.sineOut).call(function(){e.index_btn_ten.touchEnabled=!0;var t=redbag.NewRedBag();t.start(n),e.addChild(t)}),this.login_surplus-=10,this.index_surplus.text=this.login_surplus.toString();for(var a=0,l=n;a<l.length;a++){var h=l[a];7==h?this.login_amount=parseFloat(this.login_amount.toString())+.88:5==h?this.login_amount=parseFloat(this.login_amount.toString())+5.88:3==h&&(this.login_amount=parseFloat(this.login_amount.toString())+8.88)}console.log(this.login_amount)}else{var u=message.NewMessage();u.msg_text.text=i,this.addChild(u)}}},e}(eui.Component);__reflect(index.prototype,"index");var message=function(t){function e(){var e=t.call(this)||this;return e.skinName="message_skin",e.init(),e}return __extends(e,t),e.NewMessage=function(){return new e},e.prototype.init=function(){this.msg_close.touchEnabled=!0,this.msg_close.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClose,this)},e.prototype.onClose=function(){this.msg_close.hasEventListener(egret.TouchEvent.TOUCH_TAP)&&(this.msg_close.touchEnabled=!1,this.msg_close.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClose,this)),this.parent&&this.parent.removeChild(this)},e}(eui.Component);__reflect(message.prototype,"message");var myprize=function(t){function e(){var e=t.call(this)||this;return e.login_uid=0,e.login_amount=0,e.skinName="myprize_skin",e}return __extends(e,t),e.NewMyPrize=function(){return new e},e.prototype.init=function(){this.bindPlay(),this.mp_obtain.touchEnabled=!0,this.mp_obtain.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onObtain,this),this.mp_notes.touchEnabled=!0,this.mp_notes.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onNotes,this),this.mp_receive.touchEnabled=!0,this.mp_receive.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onReceive,this),this.mp_close.touchEnabled=!0,this.mp_close.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClose,this)},e.prototype.onNotes=function(){var t=record.NewRecord();t.init(this.login_uid),this.addChild(t)},e.prototype.onReceive=function(){var t=obainlist.NewObainList();t.init(this.login_uid),this.addChild(t)},e.prototype.bindPlay=function(){this.mp_head.source=this.login_head,this.mp_head.width=82,this.mp_head.height=82,this.mp_uid.text="ID:"+this.login_uid,this.mp_nick.text=this.login_nick,this.mp_amount.text=this.login_amount.toString()},e.prototype.onClose=function(){this.mp_close.hasEventListener(egret.TouchEvent.TOUCH_TAP)&&(this.mp_close.touchEnabled=!1,this.mp_close.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClose,this)),this.mp_obtain.hasEventListener(egret.TouchEvent.TOUCH_TAP)&&(this.mp_obtain.touchEnabled=!1,this.mp_obtain.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onObtain,this)),this.mp_notes.hasEventListener(egret.TouchEvent.TOUCH_TAP)&&(this.mp_notes.touchEnabled=!1,this.mp_notes.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onNotes,this)),this.mp_receive.hasEventListener(egret.TouchEvent.TOUCH_TAP)&&(this.mp_receive.touchEnabled=!1,this.mp_receive.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onReceive,this)),this.parent&&this.parent.removeChild(this)},e.prototype.onObtain=function(){var t="";if(this.login_uid<=0?t="您还没有游戏账号，请下载并登录游戏！":this.login_amount<1&&(t="您的红包金额不足1元，不能领取!"),""==t){var e=conf.AgentUrl+"/redpack/"+this.login_uid;HttpManager.create().Get(e,this.onExtractSuccess,this.onExtractError,this)}else{var n=message.NewMessage();n.msg_text.text=t,this.addChild(n)}},e.prototype.onExtractError=function(){console.log("Extract error")},e.prototype.onExtractSuccess=function(t){if(!comm.isNull(t)){var e="";"1"==t?(e="领取成功，请到公众号领取红包！",this.login_amount=0,this.mp_amount.text=this.login_amount.toString()):e="UID_ERROR"==t?"玩家UID错误！":"AMOUNT_ERROR"==t?"您的红包金额不足1元，不能领取":"NO_AUTH"==t?"您的微信账号异常，已被微信拦截！":"SENDNUM_LIMIT"==t?"您今日领取次数超过限制！":"OPENID_ERROR"==t?"您未关注公众号，不能领取！":"系统忙，请稍后再试！";var n=message.NewMessage();n.msg_text.text=e,this.addChild(n)}},e}(eui.Component);__reflect(myprize.prototype,"myprize");var obainlist=function(t){function e(){var e=t.call(this)||this;return e.skinName="obainlist_skin",e}return __extends(e,t),e.NewObainList=function(){return new e},e.prototype.init=function(t){if(0!=t){var e=conf.AgentUrl+"/api/GetObainList/"+t;HttpManager.create().Get(e,this.onSuccess,this.onLoadError,this)}this.ob_close.touchEnabled=!0,this.ob_close.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClose,this)},e.prototype.onLoadError=function(){console.log("error")},e.prototype.onSuccess=function(t){var e=JSON.parse(t);if(!comm.isNull(e)){for(var n=[],i=0,o=e;i<o.length;i++){var r=o[i];n.push({name:this.fomatFloat(r.gold,2)+"元",date:r.create_time})}this.ob_data.dataProvider=new eui.ArrayCollection(n)}},e.prototype.fomatFloat=function(t,e){return Math.round(t*Math.pow(10,e))/Math.pow(10,e)},e.prototype.onClose=function(){this.ob_close.hasEventListener(egret.TouchEvent.TOUCH_TAP)&&(this.ob_close.touchEnabled=!1,this.ob_close.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClose,this)),this.parent&&this.parent.removeChild(this)},e}(eui.Component);__reflect(obainlist.prototype,"obainlist");var record=function(t){function e(){var e=t.call(this)||this;return e.skinName="record_skin",e}return __extends(e,t),e.NewRecord=function(){return new e},e.prototype.init=function(t){if(0!=t){var e=conf.AgentUrl+"/api/GetRadList/"+t;HttpManager.create().Get(e,this.onSuccess,this.onLoadError,this)}this.rec_close.touchEnabled=!0,this.rec_close.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClose,this)},e.prototype.onLoadError=function(){console.log("error")},e.prototype.onSuccess=function(t){var e=JSON.parse(t);if(!comm.isNull(e)){for(var n=[],i=0,o=e;i<o.length;i++){var r=o[i];n.push({name:r.name,date:r.u_date})}this.rec_data.dataProvider=new eui.ArrayCollection(n)}},e.prototype.onClose=function(){this.rec_close.hasEventListener(egret.TouchEvent.TOUCH_TAP)&&(this.rec_close.touchEnabled=!1,this.rec_close.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClose,this)),this.parent&&this.parent.removeChild(this)},e}(eui.Component);__reflect(record.prototype,"record");var redbag=function(t){function e(){var e=t.call(this)||this;return e.skinName="redbag_skin",e}return __extends(e,t),e.NewRedBag=function(){return new e},e.prototype.start=function(t){var e=Object.keys(t).length;if(e>0)if(1==e)this.img_jp_two.visible=!0,2==t[0]?(this.lbl_jd.visible=!0,this.img_jp_two.source="bean_png"):6==t[0]?(this.lbl_jd.text="2",this.lbl_jd.visible=!0,this.img_jp_two.source="diamond_one_png"):4==t[0]?(this.lbl_jd.text="5",this.lbl_jd.visible=!0,this.img_jp_two.source="diamond_two_png"):3==t[0]?this.img_jp_two.source="8.88_png":5==t[0]?this.img_jp_two.source="5.88_png":this.img_jp_two.source="0.88_png";else{var n=t.filter(function(t){return 6==t}).length;n>0&&(this.img_jp_one.visible=!0,this.lbl_zs_2.visible=!0,this.lbl_jp_one.text="X"+n.toString(),this.lbl_jp_one.visible=!0);var i=t.filter(function(t){return 2==t}).length;i>0&&(this.img_jp_two.visible=!0,this.lbl_jd.visible=!0,this.lbl_jp_two.text="X"+i.toString(),this.lbl_jp_two.visible=!0);var o=t.filter(function(t){return 4==t}).length;o>0&&(this.img_jp_three.visible=!0,this.lbl_zs_5.visible=!0,this.lbl_jp_three.text="X"+o.toString(),this.lbl_jp_three.visible=!0);var r=t.filter(function(t){return 7==t}).length;r>0&&(this.img_jp_four.visible=!0,this.lbl_jp_four.text="X"+r.toString(),this.lbl_jp_four.visible=!0);var s=t.filter(function(t){return 5==t}).length;s>0&&(this.img_jp_fives.visible=!0,this.lbl_jp_fives.text="X"+s.toString(),this.lbl_jp_fives.visible=!0);var a=t.filter(function(t){return 3==t}).length;a>0&&(this.img_jp_six.visible=!0,this.lbl_jp_six.text="X"+a.toString(),this.lbl_jp_six.visible=!0)}this.enlarge.play(),this.rb_query.touchEnabled=!0,this.rb_query.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onQuery,this)},e.prototype.onQuery=function(){egret.Tween.removeAllTweens(),this.rb_query.hasEventListener(egret.TouchEvent.TOUCH_TAP)&&(this.rb_query.touchEnabled=!1,this.rb_query.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onQuery,this)),this.parent&&this.parent.removeChild(this)},e}(eui.Component);__reflect(redbag.prototype,"redbag");var rule=function(t){function e(){var e=t.call(this)||this;return e.skinName="rule_skin",e.init(),e}return __extends(e,t),e.NewRule=function(){return new e},e.prototype.init=function(){this.rule_close.touchEnabled=!0,this.rule_close.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClose,this)},e.prototype.onClose=function(){this.rule_close.hasEventListener(egret.TouchEvent.TOUCH_TAP)&&(this.rule_close.touchEnabled=!1,this.rule_close.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClose,this)),this.parent&&this.parent.removeChild(this)},e}(eui.Component);__reflect(rule.prototype,"rule");